# 駅伝アプリ 改善案・追加機能リスト

## 概要

ユーザー目線での使いやすさを重視した改善案をまとめる。

---

## 1. 記録登録の改善

### 1.1 種目選択の拡充

現在の種目に加え、以下を追加:

| カテゴリ | 種目 | 備考 |
|---------|------|------|
| トラック | 1500m | 中距離 |
| トラック | 3000m | 中距離 |
| トラック | 5000m | 基本種目 |
| トラック | 10000m | 長距離 |
| ロード | 10km | ロードレース |
| ロード | ハーフマラソン | 21.0975km |
| ロード | マラソン | 42.195km |
| 駅伝 | 1区〜7区 | 大会ごとに距離が異なる |
| その他 | 練習 | 日常練習用 |
| その他 | タイムトライアル | TT用 |

### 1.2 タイム入力の簡略化

- 秒数のみ入力 → 自動で MM:SS 形式に変換
- 例: `930` → `15:30`
- コロン区切りも対応: `15:30` そのまま

### 1.3 日付のデフォルト

- 記録登録時、日付は本日をデフォルト表示
- カレンダーピッカーで選択可能に

---

## 2. 選手プロフィールの改善

### 2.1 写真アップロード機能

- 選手ごとにプロフィール写真を登録可能
- 保存方法の選択肢:
  - A) Google Drive に保存 → URLをスプレッドシートに記録
  - B) Base64エンコードでスプレッドシートに直接保存（小さい画像のみ）
  - C) Cloud Storage に保存

### 2.2 追加プロフィール項目

| 項目 | 説明 | 必須 |
|------|------|------|
| 学年 | 1年〜4年、OB/OG | × |
| 出身校 | 高校名など | × |
| 身長 | cm | × |
| 体重 | kg | × |
| 意気込み | 一言コメント | × |

### 2.3 種目別自己ベスト

- 1500m, 5000m, 10000m, ハーフ, マラソン の各PB
- 記録登録時に自動で更新（最速タイムを検出）

---

## 3. 一覧画面の改善

### 3.1 ソート機能

- 名前順（あいうえお順）
- 所属グループ順
- 5000m PB順（速い順）
- 登録日順

### 3.2 フィルター強化

- 学年で絞り込み
- PBの範囲で絞り込み（例: 14分台の選手のみ）

### 3.3 表示切り替え

- カード表示（現在）
- テーブル表示（一覧性重視）

---

## 4. データ管理機能

### 4.1 記録の編集・削除

- 誤入力時の修正機能
- 削除時は確認ダイアログ表示

### 4.2 選手の編集

- プロフィール情報の更新
- 引退フラグの切り替え

### 4.3 データエクスポート

- CSV形式でダウンロード
- 選手一覧、記録一覧をそれぞれ出力可能

### 4.4 データインポート

- CSV形式で一括登録
- 既存データとの重複チェック

---

## 5. シミュレーション機能の改善

### 5.1 区間距離の表示

- 各区間の距離を表示（大会によって異なる）
- 予想タイムの自動計算

### 5.2 複数パターン比較

- 保存したシミュレーションを並べて比較
- 合計タイムの差を表示

### 5.3 過去の実績から推奨

- 各選手の得意区間を分析
- おすすめ配置の提案機能

---

## 6. その他の機能

### 6.1 チーム統計

- チーム全体の平均タイム
- 月別の記録推移グラフ
- 自己ベスト更新者の表示

### 6.2 通知機能（将来）

- PB更新時の通知
- 大会前のリマインダー

### 6.3 権限管理（将来）

- 閲覧のみユーザー
- 編集可能ユーザー（マネージャー、監督）
- 管理者

---

## 実装優先度

### Phase 1（優先度: 高）
- [ ] 種目選択の拡充
- [ ] 写真アップロード機能
- [ ] 種目別自己ベスト表示
- [ ] 記録の編集・削除

### Phase 2（優先度: 中）
- [ ] ソート・フィルター強化
- [ ] タイム入力の簡略化
- [ ] 追加プロフィール項目
- [ ] CSVエクスポート

### Phase 3（優先度: 低）
- [ ] シミュレーション機能の改善
- [ ] チーム統計
- [ ] データインポート
- [ ] 権限管理

---

## 備考

- スプレッドシートの列追加が必要な項目あり
- 写真機能は保存先の検討が必要
- 大きな変更前にはバックアップを推奨
