{% extends "base.html" %}

{% block title %}練習日誌一覧 - 南陽東置賜{% endblock %}

{% block extra_css %}
<style>
    .log-card {
        display: block;
        padding: 16px;
        border-bottom: 1px solid var(--border-color);
        text-decoration: none;
        color: inherit;
        transition: background 0.15s;
    }
    .log-card:hover {
        background: rgba(0,0,0,0.02);
        color: inherit;
    }
    [data-theme="dark"] .log-card:hover {
        background: rgba(255,255,255,0.02);
    }
    .log-card:last-child {
        border-bottom: none;
    }
    .log-date {
        font-size: 13px;
        color: var(--text-muted);
        margin-bottom: 4px;
    }
    .log-title {
        font-weight: 600;
        font-size: 15px;
        color: var(--text-color);
        margin-bottom: 4px;
    }
    .log-meta {
        display: flex;
        gap: 12px;
        font-size: 12px;
        color: var(--text-muted);
    }
    .log-meta span {
        display: flex;
        align-items: center;
        gap: 4px;
    }
    .fab-button {
        position: fixed;
        bottom: calc(80px + env(safe-area-inset-bottom, 0px));
        right: 20px;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        text-decoration: none;
        z-index: 1000;
    }
    .fab-button:hover {
        color: white;
        transform: scale(1.05);
    }
    @media (min-width: 768px) {
        .fab-button { display: none; }
    }
</style>
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h5><i class="bi bi-journal-text text-primary"></i> 練習日誌</h5>
    <div class="d-flex gap-2">
        <a href="{{ url_for('calendar_view') }}" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-calendar3"></i>
        </a>
        <a href="{{ url_for('practice_log_add') }}" class="btn btn-primary btn-sm d-none d-md-inline-block">
            <i class="bi bi-plus-lg"></i> 追加
        </a>
    </div>
</div>

<div class="card">
    {% for log in logs %}
    <a href="{{ url_for('practice_log_detail', log_id=log.log_id) }}" class="log-card">
        <div class="log-date">{{ log.date }}</div>
        <div class="log-title">{{ log.title }}</div>
        <div class="log-meta">
            {% if log.weather %}
            <span><i class="bi bi-cloud-sun"></i> {{ log.weather }}</span>
            {% endif %}
            {% if log.temperature %}
            <span><i class="bi bi-thermometer-half"></i> {{ log.temperature }}℃</span>
            {% endif %}
            {% if log.participants %}
            <span><i class="bi bi-people"></i> {{ log.participants }}名</span>
            {% endif %}
        </div>
    </a>
    {% else %}
    <div class="text-center py-5 text-muted">
        <i class="bi bi-journal-x" style="font-size: 48px; opacity: 0.5;"></i>
        <p class="mt-2 mb-0">練習日誌がありません</p>
        <a href="{{ url_for('practice_log_add') }}" class="btn btn-primary btn-sm mt-3">
            <i class="bi bi-plus-lg"></i> 日誌を追加
        </a>
    </div>
    {% endfor %}
</div>

<a href="{{ url_for('practice_log_add') }}" class="fab-button d-md-none">
    <i class="bi bi-plus-lg"></i>
</a>
{% endblock %}
